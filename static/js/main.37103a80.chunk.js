(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(4),r=n.n(o),s=(n(9),n(2)),l=n(0),i=c.a.createContext();function u(e){var t=Object(a.useState)({}),n=Object(s.a)(t,2),c=n[0],o=n[1];return Object(a.useEffect)((function(){var e=localStorage.getItem("token"),t=localStorage.getItem("email");t&&o({token:e,email:t})}),[]),Object(l.jsx)(i.Provider,{value:{auth:c,setAuth:o},children:e.children})}function b(){var e=Object(a.useContext)(i);return Object(l.jsxs)("nav",{className:"navbar navbar-light bg-light mt-2 mb-2",children:[Object(l.jsx)("a",{className:"navbar-brand mb-0 h1",children:"React Hooks"}),Object(l.jsx)("div",{children:e.auth.email?Object(l.jsxs)("div",{children:[e.auth.email," ",Object(l.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("email"),e.setAuth({})},children:"Logout"})]}):"you need to login"})]})}function j(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),r=Object(s.a)(o,2),u=r[0],b=r[1],j=Object(a.useContext)(i);return Object(l.jsxs)("form",{children:[Object(l.jsx)("h2",{children:"Login"}),Object(l.jsx)("input",{type:"email",className:"form-control",placeholder:"email",value:n,onChange:function(e){return c(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"password",className:"form-control",placeholder:"password",value:u,onChange:function(e){return b(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(e){if(e.preventDefault(),"123"===u){localStorage.setItem("token","abc"),localStorage.setItem("email",n),j.setAuth({token:"abc",email:n})}else alert("wrong details")},children:"Login"})]})}function m(){var e=Object(a.useContext)(i);return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(b,{}),e.auth.email?"welcome":Object(l.jsx)(j,{})]})}var h=function(){return Object(l.jsx)(u,{children:Object(l.jsx)(m,{})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(h,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,n){}},[[11,1,2]]]);
//# sourceMappingURL=main.37103a80.chunk.js.map